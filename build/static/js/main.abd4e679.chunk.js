(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(39)},37:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(11),u=t.n(o),c=t(2),i=function(e){var n=e.addPerson,t=e.newName,a=e.handleNameChange,o=e.newNumber,u=e.handleNumberChange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:o,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},l=function(e){var n=e.persons,t=e.newFilter,a=e.removePerson;return r.a.createElement("div",null,n.filter(function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())}).map(function(e){return r.a.createElement("div",{key:e.name},e.name," ",e.number,r.a.createElement("button",{id:e.id,name:e.name,onClick:a},"poista"))}))},m=function(e){var n=e.newFilter,t=e.handleFilterChange;return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ihmisi\xe4",r.a.createElement("input",{value:n,onChange:t}))},s=t(3),f=t.n(s),d="/api/persons",h=function(){return f.a.get(d).then(function(e){return e.data})},v=function(e){return f.a.post(d,e).then(function(e){return e.data})},E=function(e){return f.a.delete("".concat(d,"/").concat(e)).then(function(e){return e.data})},g=function(e,n){return f.a.put("".concat(d,"/").concat(e),n).then(function(e){return e.data})},p=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"notice"},n)},w=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"error"},n)},b=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),s=Object(c.a)(u,2),f=s[0],d=s[1],b=Object(a.useState)(""),j=Object(c.a)(b,2),O=j[0],C=j[1],N=Object(a.useState)(""),k=Object(c.a)(N,2),P=k[0],S=k[1],F=Object(a.useState)(null),L=Object(c.a)(F,2),y=L[0],T=L[1],B=Object(a.useState)(null),J=Object(c.a)(B,2),W=J[0],x=J[1];Object(a.useEffect)(function(){h().then(function(e){console.log("promise fulfilled"),o(e)})},[]),console.log("render",t.length,"persons");return r.a.createElement("div",null,r.a.createElement("h1",null,"Puhelinluettelo"),r.a.createElement(p,{message:y}),r.a.createElement(w,{message:W}),r.a.createElement(m,{newFilter:P,handleFilterChange:function(e){S(e.target.value)}}),r.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),r.a.createElement(i,{addPerson:function(e){e.preventDefault();var n={name:f,number:O},a=0;t.forEach(function(e){return e.name===n.name?a=e.id:0}),t.some(function(e){return e.name===f})?window.confirm("".concat(f," on jo luettelossa, korvataanko vanha numero uudella?"))&&g(a,n).then(function(e){o(t.map(function(n){return n.id!==a?n:e})),d(""),C(""),T("P\xe4ivitettiin ".concat(n.name)),setTimeout(function(){T(null)},5e3)}).catch(function(e){var r=t.filter(function(e){return e.id!==a});o(r),d(""),C(""),x("Henkil\xf6 ".concat(n.name," on jo poistettu")),setTimeout(function(){x(null)},5e3)}):v(n).then(function(e){o(t.concat(e)),d(""),C(""),T("Lis\xe4ttiin ".concat(n.name)),setTimeout(function(){T(null)},5e3)}).catch(function(e){console.log(e.response.data),x(e.response.data.error),d(""),C("")})},newName:f,handleNameChange:function(e){d(e.target.value)},newNumber:O,handleNumberChange:function(e){C(e.target.value)}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(l,{persons:t,newFilter:P,removePerson:function(e){var n=e.target.id,a=e.target.name;window.confirm("Poistetaanko ".concat(a,"?"))&&E(n).then(function(e){var r=t.filter(function(e){return e.id!==n});o(r),T("".concat(a," on poistettu")),setTimeout(function(){T(null)},5e3)})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(37);u.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.abd4e679.chunk.js.map